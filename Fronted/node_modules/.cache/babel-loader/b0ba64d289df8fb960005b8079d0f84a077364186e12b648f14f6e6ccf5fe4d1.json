{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{getContract,connectWallet}from\"../connectWallet\";import{ethers}from\"ethers\";import\"../css/Dashboard.css\";// 1. IMPORT CONFETTI\nimport confetti from\"canvas-confetti\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(_ref){let{showToast}=_ref;const{id}=useParams();const[campaign,setCampaign]=useState(null);const[fundAmount,setFundAmount]=useState(\"\");const[userAddress,setUserAddress]=useState(\"\");const[isFunding,setIsFunding]=useState(false);const[isWithdrawing,setIsWithdrawing]=useState(false);const[transactionLog,setTransactionLog]=useState([]);const[activeTab,setActiveTab]=useState(\"story\");// Helper for safe notification\nconst notify=(msg,type)=>{if(showToast){showToast(msg,type);}else{alert(msg);}};// --- 2. CONFETTI FUNCTION ---\nconst triggerConfetti=()=>{confetti({particleCount:150,spread:70,origin:{y:0.6},colors:['#6366f1','#22d3ee','#ef4444','#22c55e']// Matches your theme colors\n});};const fetchData=async()=>{try{const contract=await getContract();if(!contract)return;const campaignsData=await contract.getAllCampaigns();const data=campaignsData[id];if(!data)return;const goal=ethers.utils.formatEther(data.goal);const fundsRaised=ethers.utils.formatEther(data.fundsRaised);setCampaign({id,owner:data.owner.toLowerCase(),title:data.title,description:data.description,goal,fundsRaised,completed:data.completed,imageUrl:data.imageUrl,progressPercentage:Math.min(parseFloat(fundsRaised)/parseFloat(goal)*100,100),createdAt:new Date(data.createdAt.toNumber()*1000).toLocaleDateString()});const log=await contract.getTransactionLog(id);const formattedLog=log.map((tx,index)=>({id:index,sender:tx.sender.toLowerCase(),amount:ethers.utils.formatEther(tx.amount),txType:tx.txType.toString()===\"0\"?\"Donation\":\"Withdrawal\",timestamp:new Date(Number(tx.timestamp)*1000).toLocaleDateString()})).reverse();setTransactionLog(formattedLog);const signer=await connectWallet();if(signer){const address=await signer.getAddress();setUserAddress(address.toLowerCase());}}catch(error){console.error(\"Error fetching data:\",error);}};useEffect(()=>{fetchData();},[id]);const fundCampaign=async()=>{if(!fundAmount){notify(\"Please enter an amount!\",\"error\");return;}if(campaign.owner===userAddress){notify(\"You cannot fund your own campaign!\",\"error\");return;}try{setIsFunding(true);const contract=await getContract();notify(\"Please confirm in Wallet...\",\"success\");const tx=await contract.fundCampaign(id,{value:ethers.utils.parseEther(fundAmount)});notify(\"Transaction sent! Waiting...\",\"success\");await tx.wait();// --- 3. TRIGGER CONFETTI ON SUCCESS! ---\ntriggerConfetti();notify(\"üéâ Donation Successful!\",\"success\");setFundAmount(\"\");fetchData();}catch(error){console.error(error);notify(\"Transaction failed.\",\"error\");}finally{setIsFunding(false);}};const withdrawFunds=async()=>{try{setIsWithdrawing(true);const contract=await getContract();notify(\"Processing Withdrawal...\",\"success\");const tx=await contract.withdrawFunds(id);await tx.wait();triggerConfetti();// Celebration for withdrawal too!\nnotify(\"Funds withdrawn to your wallet!\",\"success\");fetchData();}catch(error){console.error(error);notify(\"Withdrawal failed.\",\"error\");}finally{setIsWithdrawing(false);}};if(!campaign)return/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:\"Loading...\"});const isOwner=campaign.owner===userAddress;const goalReached=parseFloat(campaign.fundsRaised)>=parseFloat(campaign.goal);return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hero-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:campaign.imageUrl,alt:campaign.title,className:\"hero-image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"category-tag\",children:\"Project\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabs-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:`tab-btn ${activeTab==='story'?'active':''}`,onClick:()=>setActiveTab('story'),children:\"Our Story\"}),/*#__PURE__*/_jsxs(\"button\",{className:`tab-btn ${activeTab==='donors'?'active':''}`,onClick:()=>setActiveTab('donors'),children:[\"Donors (\",transactionLog.filter(t=>t.txType===\"Donation\").length,\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",children:activeTab==='story'?/*#__PURE__*/_jsxs(\"div\",{className:\"story-text\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"story-heading\",children:\"About this Project\"}),/*#__PURE__*/_jsx(\"p\",{children:campaign.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"creator-badge\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"creator-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"creator-label\",children:\"Campaign Organizer\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"creator-name\",children:[campaign.owner.slice(0,6),\"...\",campaign.owner.slice(-4),isOwner&&\" (You)\"]})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"donors-list\",children:[transactionLog.length===0&&/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-muted)'},children:\"No donors yet. Be the first!\"}),transactionLog.map(tx=>/*#__PURE__*/_jsxs(\"div\",{className:\"donor-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"donor-avatar-placeholder\",children:tx.txType===\"Donation\"?\"‚ù§Ô∏è\":\"üí∏\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"donor-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"donor-address\",children:[tx.txType===\"Donation\"?\"Supporter\":\"Owner Withdrawal\",/*#__PURE__*/_jsxs(\"span\",{className:\"address-sub\",children:[\" (\",tx.sender.slice(0,6),\"...\",tx.sender.slice(-4),\")\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"donor-date\",children:tx.timestamp})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"donor-amount\",children:[tx.txType===\"Donation\"?\"+\":\"-\",tx.amount,\" ETH\"]})]},tx.id))]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"funding-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"funding-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:`funding-status ${campaign.completed?\"closed\":\"open\"}`,children:campaign.completed?\"Ended\":\"Live\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"funding-date\",children:[\"Created: \",campaign.createdAt]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"campaign-title\",children:campaign.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar-bg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar-fill\",style:{width:`${campaign.progressPercentage}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[campaign.fundsRaised,\" \",/*#__PURE__*/_jsx(\"small\",{children:\"ETH\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Raised\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item right\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[campaign.goal,\" \",/*#__PURE__*/_jsx(\"small\",{children:\"ETH\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Goal\"})]})]})]}),!campaign.completed&&!goalReached&&!isOwner&&/*#__PURE__*/_jsxs(\"div\",{className:\"action-box\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",children:\"Pledge without reward\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"0.1\",className:\"amount-input\",value:fundAmount,onChange:e=>setFundAmount(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{className:\"eth-suffix\",children:\"ETH\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"donate-btn\",onClick:fundCampaign,disabled:isFunding,children:isFunding?\"Processing...\":\"Back this Project\"})]}),goalReached&&!campaign.completed&&/*#__PURE__*/_jsx(\"div\",{className:\"success-banner\",children:\"\\uD83C\\uDF89 Goal Reached! Funding is complete.\"}),isOwner&&/*#__PURE__*/_jsxs(\"div\",{className:\"owner-panel\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Owner Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{style:{marginBottom:'1rem',color:'var(--text-muted)',fontSize:'0.9rem'},children:\"You cannot fund your own campaign. Share it to get backers!\"}),goalReached?/*#__PURE__*/_jsx(\"button\",{onClick:withdrawFunds,disabled:isWithdrawing,className:\"withdraw-btn\",children:isWithdrawing?\"Processing...\":\"Withdraw Funds\"}):/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'var(--input-bg)',borderRadius:'8px',fontSize:'0.85rem',color:'var(--text-muted)'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" Fundraising in progress.\",/*#__PURE__*/_jsx(\"br\",{}),\"Withdrawal available once goal is reached.\"]})]})]})})]})});}export default Dashboard;","map":{"version":3,"names":["useEffect","useState","useParams","getContract","connectWallet","ethers","confetti","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","showToast","id","campaign","setCampaign","fundAmount","setFundAmount","userAddress","setUserAddress","isFunding","setIsFunding","isWithdrawing","setIsWithdrawing","transactionLog","setTransactionLog","activeTab","setActiveTab","notify","msg","type","alert","triggerConfetti","particleCount","spread","origin","y","colors","fetchData","contract","campaignsData","getAllCampaigns","data","goal","utils","formatEther","fundsRaised","owner","toLowerCase","title","description","completed","imageUrl","progressPercentage","Math","min","parseFloat","createdAt","Date","toNumber","toLocaleDateString","log","getTransactionLog","formattedLog","map","tx","index","sender","amount","txType","toString","timestamp","Number","reverse","signer","address","getAddress","error","console","fundCampaign","value","parseEther","wait","withdrawFunds","className","children","isOwner","goalReached","src","alt","onClick","filter","t","length","slice","style","color","width","placeholder","onChange","e","target","disabled","marginBottom","fontSize","padding","background","borderRadius"],"sources":["C:/Users/manav/OneDrive/Desktop/test crowdfund/Crowdfunding-App-Using-Blockchain/Fronted/src/components/Dashboard.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getContract, connectWallet } from \"../connectWallet\";\r\nimport { ethers } from \"ethers\";\r\nimport \"../css/Dashboard.css\";\r\n\r\n// 1. IMPORT CONFETTI\r\nimport confetti from \"canvas-confetti\";\r\n\r\nfunction Dashboard({ showToast }) {\r\n  const { id } = useParams();\r\n  const [campaign, setCampaign] = useState(null);\r\n  const [fundAmount, setFundAmount] = useState(\"\");\r\n  const [userAddress, setUserAddress] = useState(\"\");\r\n  const [isFunding, setIsFunding] = useState(false);\r\n  const [isWithdrawing, setIsWithdrawing] = useState(false);\r\n  const [transactionLog, setTransactionLog] = useState([]);\r\n  const [activeTab, setActiveTab] = useState(\"story\");\r\n\r\n  // Helper for safe notification\r\n  const notify = (msg, type) => {\r\n    if (showToast) {\r\n      showToast(msg, type);\r\n    } else {\r\n      alert(msg);\r\n    }\r\n  };\r\n\r\n  // --- 2. CONFETTI FUNCTION ---\r\n  const triggerConfetti = () => {\r\n    confetti({\r\n      particleCount: 150,\r\n      spread: 70,\r\n      origin: { y: 0.6 },\r\n      colors: ['#6366f1', '#22d3ee', '#ef4444', '#22c55e'] // Matches your theme colors\r\n    });\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const contract = await getContract();\r\n      if (!contract) return;\r\n\r\n      const campaignsData = await contract.getAllCampaigns();\r\n      const data = campaignsData[id];\r\n      if (!data) return;\r\n\r\n      const goal = ethers.utils.formatEther(data.goal);\r\n      const fundsRaised = ethers.utils.formatEther(data.fundsRaised);\r\n      \r\n      setCampaign({\r\n        id,\r\n        owner: data.owner.toLowerCase(),\r\n        title: data.title,\r\n        description: data.description,\r\n        goal,\r\n        fundsRaised,\r\n        completed: data.completed,\r\n        imageUrl: data.imageUrl,\r\n        progressPercentage: Math.min((parseFloat(fundsRaised) / parseFloat(goal)) * 100, 100),\r\n        createdAt: new Date(data.createdAt.toNumber() * 1000).toLocaleDateString()\r\n      });\r\n\r\n      const log = await contract.getTransactionLog(id);\r\n      const formattedLog = log.map((tx, index) => ({\r\n        id: index,\r\n        sender: tx.sender.toLowerCase(),\r\n        amount: ethers.utils.formatEther(tx.amount),\r\n        txType: tx.txType.toString() === \"0\" ? \"Donation\" : \"Withdrawal\",\r\n        timestamp: new Date(Number(tx.timestamp) * 1000).toLocaleDateString(),\r\n      })).reverse();\r\n      setTransactionLog(formattedLog);\r\n\r\n      const signer = await connectWallet();\r\n      if (signer) {\r\n        const address = await signer.getAddress();\r\n        setUserAddress(address.toLowerCase());\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  const fundCampaign = async () => {\r\n    if (!fundAmount) {\r\n       notify(\"Please enter an amount!\", \"error\");\r\n       return;\r\n    }\r\n\r\n    if (campaign.owner === userAddress) {\r\n      notify(\"You cannot fund your own campaign!\", \"error\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsFunding(true);\r\n      const contract = await getContract();\r\n      \r\n      notify(\"Please confirm in Wallet...\", \"success\");\r\n\r\n      const tx = await contract.fundCampaign(id, { value: ethers.utils.parseEther(fundAmount) });\r\n      \r\n      notify(\"Transaction sent! Waiting...\", \"success\");\r\n      \r\n      await tx.wait();\r\n\r\n      // --- 3. TRIGGER CONFETTI ON SUCCESS! ---\r\n      triggerConfetti();\r\n      notify(\"üéâ Donation Successful!\", \"success\");\r\n      \r\n      setFundAmount(\"\");\r\n      fetchData(); \r\n    } catch (error) {\r\n      console.error(error);\r\n      notify(\"Transaction failed.\", \"error\");\r\n    } finally {\r\n      setIsFunding(false);\r\n    }\r\n  };\r\n\r\n  const withdrawFunds = async () => {\r\n    try {\r\n      setIsWithdrawing(true);\r\n      const contract = await getContract();\r\n      \r\n      notify(\"Processing Withdrawal...\", \"success\");\r\n      \r\n      const tx = await contract.withdrawFunds(id);\r\n      await tx.wait();\r\n\r\n      triggerConfetti(); // Celebration for withdrawal too!\r\n      notify(\"Funds withdrawn to your wallet!\", \"success\");\r\n      fetchData();\r\n    } catch (error) {\r\n      console.error(error);\r\n      notify(\"Withdrawal failed.\", \"error\");\r\n    } finally {\r\n      setIsWithdrawing(false);\r\n    }\r\n  };\r\n\r\n  if (!campaign) return <div className=\"loading-screen\">Loading...</div>;\r\n\r\n  const isOwner = campaign.owner === userAddress;\r\n  const goalReached = parseFloat(campaign.fundsRaised) >= parseFloat(campaign.goal);\r\n\r\n  return (\r\n    <div className=\"dashboard-wrapper\">\r\n      <div className=\"dashboard-container\">\r\n        \r\n        {/* LEFT COLUMN */}\r\n        <div className=\"main-content\">\r\n          <div className=\"hero-image-container\">\r\n            <img src={campaign.imageUrl} alt={campaign.title} className=\"hero-image\" />\r\n            <div className=\"category-tag\">Project</div>\r\n          </div>\r\n\r\n          <div className=\"tabs-header\">\r\n            <button \r\n              className={`tab-btn ${activeTab === 'story' ? 'active' : ''}`} \r\n              onClick={() => setActiveTab('story')}\r\n            >\r\n              Our Story\r\n            </button>\r\n            <button \r\n              className={`tab-btn ${activeTab === 'donors' ? 'active' : ''}`} \r\n              onClick={() => setActiveTab('donors')}\r\n            >\r\n              Donors ({transactionLog.filter(t => t.txType === \"Donation\").length})\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"tab-content\">\r\n            {activeTab === 'story' ? (\r\n              <div className=\"story-text\">\r\n                <h3 className=\"story-heading\">About this Project</h3>\r\n                <p>{campaign.description}</p>\r\n                <div className=\"creator-badge\">\r\n                  <div className=\"creator-avatar\" />\r\n                  <div>\r\n                    <span className=\"creator-label\">Campaign Organizer</span>\r\n                    <span className=\"creator-name\">\r\n                      {campaign.owner.slice(0, 6)}...{campaign.owner.slice(-4)}\r\n                      {isOwner && \" (You)\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"donors-list\">\r\n                {transactionLog.length === 0 && <p style={{color: 'var(--text-muted)'}}>No donors yet. Be the first!</p>}\r\n                {transactionLog.map((tx) => (\r\n                  <div key={tx.id} className=\"donor-row\">\r\n                    <div className=\"donor-avatar-placeholder\">\r\n                      {tx.txType === \"Donation\" ? \"‚ù§Ô∏è\" : \"üí∏\"}\r\n                    </div>\r\n                    <div className=\"donor-info\">\r\n                      <span className=\"donor-address\">\r\n                        {tx.txType === \"Donation\" ? \"Supporter\" : \"Owner Withdrawal\"} \r\n                        <span className=\"address-sub\"> ({tx.sender.slice(0,6)}...{tx.sender.slice(-4)})</span>\r\n                      </span>\r\n                      <span className=\"donor-date\">{tx.timestamp}</span>\r\n                    </div>\r\n                    <div className=\"donor-amount\">\r\n                      {tx.txType === \"Donation\" ? \"+\" : \"-\"}{tx.amount} ETH\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* RIGHT COLUMN */}\r\n        <div className=\"sidebar-content\">\r\n          <div className=\"funding-card\">\r\n            \r\n            <div className=\"funding-header\">\r\n              <span className={`funding-status ${campaign.completed ? \"closed\" : \"open\"}`}>\r\n                {campaign.completed ? \"Ended\" : \"Live\"}\r\n              </span>\r\n              <span className=\"funding-date\">Created: {campaign.createdAt}</span>\r\n            </div>\r\n\r\n            <h1 className=\"campaign-title\">{campaign.title}</h1>\r\n\r\n            <div className=\"progress-section\">\r\n              <div className=\"progress-bar-bg\">\r\n                <div \r\n                  className=\"progress-bar-fill\" \r\n                  style={{ width: `${campaign.progressPercentage}%` }}\r\n                ></div>\r\n              </div>\r\n              <div className=\"stats-grid\">\r\n                <div className=\"stat-item\">\r\n                  <span className=\"stat-value\">{campaign.fundsRaised} <small>ETH</small></span>\r\n                  <span className=\"stat-label\">Raised</span>\r\n                </div>\r\n                <div className=\"stat-item right\">\r\n                  <span className=\"stat-value\">{campaign.goal} <small>ETH</small></span>\r\n                  <span className=\"stat-label\">Goal</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {!campaign.completed && !goalReached && !isOwner && (\r\n              <div className=\"action-box\">\r\n                <label className=\"input-label\">Pledge without reward</label>\r\n                <div className=\"input-wrapper\">\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"0.1\"\r\n                    className=\"amount-input\"\r\n                    value={fundAmount}\r\n                    onChange={(e) => setFundAmount(e.target.value)}\r\n                  />\r\n                  <span className=\"eth-suffix\">ETH</span>\r\n                </div>\r\n                <button \r\n                  className=\"donate-btn\" \r\n                  onClick={fundCampaign} \r\n                  disabled={isFunding}\r\n                >\r\n                  {isFunding ? \"Processing...\" : \"Back this Project\"}\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {goalReached && !campaign.completed && (\r\n              <div className=\"success-banner\">\r\n                üéâ Goal Reached! Funding is complete.\r\n              </div>\r\n            )}\r\n            \r\n            {isOwner && (\r\n              <div className=\"owner-panel\">\r\n                <h4>Owner Dashboard</h4>\r\n                <p style={{marginBottom: '1rem', color: 'var(--text-muted)', fontSize: '0.9rem'}}>\r\n                  You cannot fund your own campaign. Share it to get backers!\r\n                </p>\r\n                {goalReached ? (\r\n                  <button onClick={withdrawFunds} disabled={isWithdrawing} className=\"withdraw-btn\">\r\n                    {isWithdrawing ? \"Processing...\" : \"Withdraw Funds\"}\r\n                  </button>\r\n                ) : (\r\n                  <div style={{padding: '10px', background: 'var(--input-bg)', borderRadius: '8px', fontSize: '0.85rem', color: 'var(--text-muted)'}}>\r\n                    <strong>Status:</strong> Fundraising in progress.<br/>\r\n                    Withdrawal available once goal is reached.\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}